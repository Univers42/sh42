/* Header layout / nav visuals */
.header-inner {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 1rem;
  padding: 0.9rem 1.25rem;
  max-width: 1400px;
  margin: 0 auto;
}

/* Use a solid-ish glass panel for the header to create a clear boundary */
.site-header {
  position: sticky;
  top: 0;
  z-index: 1700; /* above footer (1400) and other elements */
  background: none; /* keep animation layer separate */
  height: var(--header-height, 96px);
  min-height: var(--header-height, 96px);
}

/* header inner uses a true surface color so content underneath doesn't show through */
.header-inner {
  background: linear-gradient(180deg, var(--header-surface), var(--header-surface));
  color: var(--text-primary);
  border-bottom: 1px solid var(--header-border);
  box-shadow: 0 6px 18px rgba(0,0,0,0.04);
  height: 100%;
  display: grid;
  align-items: center;
  grid-template-columns: auto 1fr auto;
  gap: 1rem;
  padding: 0 1rem;
}

/* tone down animated background so it doesn't bleed content (keeps decorative motion) */
.site-header .header-bg {
  background: var(--header-bg-1);
  opacity: 0.18; /* low opacity so the header-surface remains dominant */
  filter: blur(4px) saturate(1.02);
}

/* ensure header occupies layout flow and doesn't visually mix with page content */
.header-bg::after { display: none; }

/* brand */
.header-brand { display:flex; align-items:center; gap:0.6rem; cursor:pointer; }

/* nav center */
.navbar-nav { justify-self: center; display:flex; width:100%; justify-content:center; }
.nav-list {
  display:flex; gap: 0.6rem; align-items:center; padding: 0; margin: 0;
  overflow: auto; -webkit-overflow-scrolling: touch;
  scrollbar-width: none; -ms-overflow-style:none;
}
.nav-list::-webkit-scrollbar { display: none; height: 0; }

/* nav-link: transform-based underline to avoid width artifacts */
.nav-link {
  position: relative;
  display:inline-flex;
  align-items:center;
  padding:0.55rem 0.85rem;
  border-radius:999px;
  color: var(--text-primary);
  text-decoration:none;
  font-weight:700;
  background:transparent;
  transition: color .18s ease, transform .12s ease;
  -webkit-tap-highlight-color: transparent;
}
.nav-link::after{
  content:"";
  position:absolute;
  left:18%; right:18%;
  bottom:-6px;
  height:2px;
  background: linear-gradient(90deg,var(--hellish-primary),var(--h-accent));
  transform:scaleX(0);
  transform-origin:center;
  transition:transform .28s cubic-bezier(.2,.9,.3,1),opacity .18s;
  opacity:0;
  border-radius:2px;
}
.nav-link:hover, .nav-link:focus { color: var(--hellish-primary); transform: translateY(-1px); }
.nav-link:hover::after, .nav-link:focus::after, .nav-link.active::after { transform:scaleX(1); opacity:1; }

/* Focus visible for keyboard users */
.nav-link:focus-visible { outline: 3px solid rgba(255,77,79,0.12); outline-offset: 4px; }

/* accessibility */
.nav-link:focus { box-shadow: 0 0 0 4px rgba(255,77,79,0.12); outline:none; }

/* mobile toggle visibility: show only on small screens */
.mobile-toggle { display:none; width:44px; height:44px; border-radius:10px; place-items:center; background:rgba(255,255,255,0.04); cursor:pointer; }
.mobile-toggle span{ width:20px; height:2px; background:var(--h-ink); border-radius:2px; display:block; transition:all .28s ease; }
.mobile-toggle.active span:nth-child(1){ transform: translateY(6px) rotate(45deg); }
.mobile-toggle.active span:nth-child(2){ opacity:0; transform:scaleX(.2); }
.mobile-toggle.active span:nth-child(3){ transform: translateY(-6px) rotate(-45deg); }

@media (max-width: 991px){
  .nav-list { display:none; }
  .header-cta { display:none; }
  .brand-sub { display:none; }
  .mobile-toggle { display: inline-grid; }
  .header-inner { padding: 0.7rem 1rem; }
  .site-header { min-height:72px; }
}

/* header shrink on scroll */
.site-header.shrink { min-height:64px; box-shadow: 0 6px 20px rgba(0,0,0,0.08); }
.site-header.shrink .header-logo { transform: scale(.94) translateY(-2px); }

/* Slightly bolder link color in light & dark to ensure consistency */
.nav-link { color: var(--text-primary, #1b0b0b); }
[data-theme="dark"] .nav-link { color: rgba(255,238,238,0.95); }

/* reduce heavy hover shadows across header items */
.nav-link { box-shadow: none; }

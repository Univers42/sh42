/* Ember canvas */
.ember-canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
  mix-blend-mode: normal;
  opacity: 1;
  transition: opacity .35s ease;
  background: transparent;
}

/* Overlay gradient */
.overlay-grad {
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background:
    radial-gradient(420px 140px at 10% 18%, rgba(255,90,50,0.03), transparent 12%),
    radial-gradient(320px 110px at 88% 80%, rgba(255,50,30,0.02), transparent 14%),
    linear-gradient(180deg, rgba(0,0,0,0.14), rgba(0,0,0,0.06));
  mix-blend-mode: normal;
  filter: blur(6px) saturate(110%);
  opacity: 0.86;
  transition: opacity .5s ease, transform .5s ease;
}

/* Ensure cards are positioned for the torch overlay */
.showcase__card {
  position: relative; /* required for ::before */
  overflow: visible; /* allow glow to show outside bounds */
  transition: box-shadow 0.35s ease, border-color 0.35s ease, transform 0.25s ease;
  /* sensible defaults for spotlight vars */
  --tx: 50%;
  --ty: 50%;
  --rim-color: rgba(255,123,80,0); /* will be overridden by JS on move; default transparent */

  z-index: 1; /* ensure card forms stacking context beneath its content */
  /* default subtle surface so glow doesn't fully wash out text */
  background: var(--card-bg, rgba(0,0,0,0.28));
  border-radius: 12px;
}

/* ensure card children sit above the ::before pseudo-element */
.showcase__card > * {
  position: relative;
  z-index: 2;
}

/* Torch/lamptorch overlay â€” only lights perimeter by using radial-gradient with transparent center */
.showcase__card::before {
  content: '';
  position: absolute;
  inset: -16px; /* allow glow to extend outside card */
  pointer-events: none;
  border-radius: 14px; /* matches card radius */
  z-index: 0; /* place behind card children */
  opacity: 1;
  transition: background-position 120ms linear, transform 160ms ease, opacity 220ms ease;
  /* Thinner ring for perimeter-only enlightenment */
  background:
    radial-gradient(
      circle at var(--tx, 50%) var(--ty, 50%),
      rgba(0,0,0,0) 60%,
      rgba(255,255,255,0.02) 61%,
      var(--rim-color) 62%,
      rgba(0,0,0,0) 64%
    );
  mix-blend-mode: screen;
  filter: blur(16px) saturate(120%);
}

/* Visible stronger rim on hover/focus */
.showcase__card:hover::before,
.showcase__card:focus-within::before {
  opacity: 1;
}

/* Slight lift and inner rim to complement perimeter */
.showcase__card:hover {
  box-shadow:
    0 0 16px var(--flame-color-1),
    0 0 36px rgba(0,0,0,0.22),
    inset 0 0 10px rgba(255,255,255,0.02);
  border-color: var(--flame-color-1, #ff7b50);
  transform: translateY(-3px) scale(1.01);
}

/* Support dark-mode: use cooler blue rim (variables are set in index.css previously) */
@media (prefers-color-scheme: dark) {
  .showcase__card::before {
    background:
      radial-gradient(
        circle at var(--tx, 50%) var(--ty, 50%),
        rgba(0,0,0,0) 55%,
        rgba(255,255,255,0.01) 65%,
        var(--flame-color-1, rgba(0,191,255,0.18)) 72%,
        var(--flame-color-2, rgba(30,144,255,0.12)) 88%,
        rgba(0,0,0,0) 100%
      );
  }
}

/* Optional subtle inner rim to complement the outer glow */
.showcase__card:hover {
  box-shadow:
    0 0 18px var(--flame-color-1),
    0 0 36px rgba(0,0,0,0.24),
    inset 0 0 12px rgba(255,255,255,0.02);
  border-color: var(--flame-color-1, #ff7b50);
  transform: translateY(-4px) scale(1.01);
}
